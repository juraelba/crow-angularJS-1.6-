<div class="page-header">
    <section class="content-header">
        <h1>
            <small>Documenten</small>
        </h1>
        <div class="row">
            <div class="container">
                <div class="col-lg-2">
                    <a href class="btn btn-success" ng-click="createEdit()">Nieuw document</a>
                </div>
                <div class="col-lg-10" style="display: flex;">
                    <select chosen
                            ng-model="row.filterprojectCode"
                            multiple
                            id="filterprojectCode"
                            data-placeholder="Projectcode"
                            ng-change="getFilterByProjects()"
                            ng-options="option as option.value for option in formSelectsData.projects track by option.key">
                        <option></option>
                    </select>
                    <select chosen
                            ng-model="row.filterdocumentType"
                            id="filterdocumentType"
                            data-placeholder-text-single="'Documenttype'"
                            class="form-control"
                            ng-options="option as option.value for option in formSelectsData.documentTypes track by option.key">
                        <option></option>
                    </select>
                    <select chosen
                            ng-model="row.filteryear"
                            id="filteryear"
                            multiple
                            data-placeholder="Boekjaar"
                            class="form-control"
                            ng-options="option as option for option in formSelectsData.years">
                        <option></option>
                    </select>
                    <select chosen
                            ng-model="row.filterrelation"
                            multiple
                            id="filterrelation"
                            data-placeholder="Relatie"
                            ng-options="option as option.value for option in formSelectsData.relations track by option.key">
                        <option></option>
                    </select>
                    <!-- <select chosen
                            ng-model="row.filterrelation"
                            id="relation1"
                            multiple
                            data-placeholder="'Relatie'"
                            class="form-control"
                            ng-options="option as option.value for option in formSelectsData.relations track by option.key">
                        <option></option>
                    </select> -->
                    <select chosen
                            ng-model="row.filteremployee"
                            id="filteremployee"
                            multiple
                            data-placeholder="Medewerker"
                            class="form-control"
                            ng-options="option as option.value for option in formSelectsData.employees track by option.key">
                        <option></option>
                    </select>
                    <button class="btn btn-success center-block" ng-click="getFilterByProjects()" style="margin-right:10px; height: 35px;">Filter</button>
                    <!-- <input type="text" class="form-control" placeholder="Zoeken naar..." ng-model="search"
                           ng-change="searching()"/> -->
                </div>
            </div>
        </div>
        <div class="row">
            <div class="container">
                <div class="col-lg-12">
                    <table ng-table-dynamic="tableParams with cols" show-filter="false"
                           class="table table-bordered table-striped" style="font-size: 12px">
                        <!-- <tr ng-repeat="row in $data">
                            <td ng-repeat="col in cols">
                                {{::row[col.field]}}
                            </td>
                            <td>
                                <a href ng-click="getDocfile(row.FileStorageId)">down</a>
                            </td>
                        </tr> -->
                        <thead>
                            <tr>
                                <th>Documenttype</th>
                                <th>Document</th>
                                <th>UploadDatum</th>
                                <th>Boekjaren</th>
                                <th>Projecten</th>
                                <th>Relaties</th>
                                <th>Medewerkers</th>
                                <th>FileStorageId</th>
                                <th>Download</th>
                                <th>Verwijderen</th>
                            </tr>
                        </thead>
                        <tr ng-repeat="row in $data">
                            <td>{{::row.DocumentType}}</td>
                            <td>{{::row.Document}}</td>
                            <td>{{::row.UploadDatum}}</td>
                            <td>{{::row.Boekjaren}}</td>
                            <td>{{::row.Projecten}}</td>
                            <td>{{::row.Relaties}}</td>
                            <td>{{::row.Medewerkers}}</td>
                            <td>{{::row.FileStorageId}}</td>
                            <td>
                                <a href ng-click="getDocfile(row.FileStorageId)"><i class="fas fa-download"></i></a>
                            </td>
                            <td>
                                <a href ng-click="deleteDocfile(row.FileStorageId)"><i class="fa fa-trash"></i></a>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </section>
</div>

<div ng-include src="'templates/footer.html'">
</div>
<div class="modal modalAdditional" id="edit-create-modal">
    <div class="modal-content">
        <div class="modal-header">
            <span class="close">&times;</span>
        </div>
        <div class="modal-body">
            <form ng-submit="saveForm()">
                <div class="form-group">
                    <label for="file">File</label>
                    <input type="file" class="form-control"
                           id="file"
                           required
                           onchange="angular.element(this).scope().handleFileInput(this.files)"
                           ng-model="row.file"
                    >
                </div>

                <div class="form-group">
                    <label for="Naam">Naam</label>
                    <input type="text" class="form-control"
                           id="Naam"
                           placeholder="Naam"
                           ng-model="row.name"
                           required
                    >
                </div>

                <div class="form-group">
                    <label for="projectCode">Projectcode</label>
                    <select chosen
                            ng-model="row.projectCode"
                            multiple
                            id="projectCode"
                            data-placeholder-text-single="'Projectcode'"
                            class="form-control"
                            ng-options="option as option.value for option in formSelectsData.projects track by option.key">
                        <option></option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="documentType">Documenttype</label>
                    <select chosen
                            ng-model="row.documentType"
                            id="documentType"
                            data-placeholder-text-single="'Documenttype'"
                            class="form-control"
                            required
                            ng-options="option as option.value for option in formSelectsData.documentTypes track by option.key">
                        <option></option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="year">Boekjaar</label>
                    <select chosen
                            ng-model="row.year"
                            id="year"
                            multiple
                            data-placeholder-text-single="'Boekjaar'"
                            class="form-control"
                            ng-options="option as option for option in formSelectsData.years">
                        <option></option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="relation">Relatie</label>
                    <select chosen
                            ng-model="row.relation"
                            id="relation"
                            multiple
                            data-placeholder-text-single="'Relatie'"
                            class="form-control"
                            ng-options="option as option.value for option in formSelectsData.relations track by option.key">
                        <option></option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="employee">Projectleide</label>
                    <select chosen
                            ng-model="row.employee"
                            id="employee"
                            multiple
                            data-placeholder-text-single="'Medewerker'"
                            class="form-control"
                            ng-options="option as option.value for option in formSelectsData.employees track by option.key">
                        <option></option>
                    </select>
                </div>

                <div class="row" ng-show="row.error">
                    <div class="col-xs-12 alert alert-danger text-center clsError">
                        {{ row.error }}
                    </div>
                </div>

                <div class="form-group">
                    <button class="btn btn-success center-block">Bewaren</button>
                </div>
            </form>
        </div>
    </div>
</div>